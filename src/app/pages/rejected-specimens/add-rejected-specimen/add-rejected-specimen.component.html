<div class="mt-2 formdiv">
    <div class="row">
    <form [formGroup]="specimenForm" appFocus appFocusFirstInput>
      <div class="row gx-2">
        <div class="col-lg-4 col-md-6">
            <div class="mb-2">
              <label class="form-label">Patient First Name:<span class="errortext ms-1">*</span></label>
              <input type="text" class="form-control" placeholder="Enter Patient First Name" formControlName="Patientfirstname"
                [ngClass]="{'is-invalid': isSubmitted && f.Patientfirstname.errors}" TrimWhitespace maxlength="50" />
              <!-- Error message for required validation -->
              <div *ngIf="isSubmitted && f.Patientfirstname.errors" class="invalid-feedback">
                <div *ngIf="f.Patientfirstname.errors.required">Please enter Patient First Name</div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div class="mb-2">
              <label class="form-label">Patient Last Name:<span class="errortext ms-1">*</span></label>
              <input type="text" class="form-control" placeholder="Enter Patient Last Name" formControlName="Patientlastname"
                [ngClass]="{'is-invalid': isSubmitted && f.Patientlastname.errors}" TrimWhitespace maxlength="50" />
              <!-- Error message for required validation -->
              <div *ngIf="isSubmitted && f.Patientlastname.errors" class="invalid-feedback">
                <div *ngIf="f.Patientlastname.errors.required">Please enter Patient Last Name</div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div class="mb-2">
              <label class="form-label">Accession Number:<span class="errortext ms-1">*</span></label>
              <input type="text" class="form-control" placeholder="Enter Accession Number" formControlName="AccessionNumber"
                [ngClass]="{'is-invalid': isSubmitted && f.AccessionNumber.errors}" TrimWhitespace maxlength="50" />
              <!-- Error message for required validation -->
              <div *ngIf="isSubmitted && f.AccessionNumber.errors" class="invalid-feedback">
                <div *ngIf="f.AccessionNumber.errors.required">Please enter Accession Number</div>
              </div>
            </div>
          </div>
        </div>
      <div class="row gx-2">
        <div class="col-lg-4 col-md-4" >
            <div class="mb-2">
                <label class="form-label">Select Department:</label>
                <select id="reason"  class="form-control form-select" formControlName="Departmentoption">
                  <option value="">- Select Department -</option>
                  <option *ngFor="let state of departmentList" [value]="state.Key">{{state.Value}}</option>
              </select>
             
            </div>
        </div>
        <div class="col-lg-4 col-md-4" >
            <div class="mb-2">
              <label class="form-label custom-font">Rejection Reason:</label>
              <select id="reason"  class="form-control form-select" formControlName="RejectionreasonOption">
                <option value="">- Select Reason -</option>
                <option *ngFor="let state of rejectedReasonList" [value]="state.Key">{{state.Value}}</option>
            </select>
          
            </div>
        </div>
      </div>
      
            <div class="mb-2">
              <label class="form-label">Test(s)/Panel Cancelled:</label>
              <div formArrayName="Paneloptions">
              
                <!-- Dynamically add inputs using *ngFor -->
                <div *ngFor="let panelOption of panelOptionsFormArray.controls; let i = index" class="mb-2">
                  <div class="row gx-2">
                    <div class="col-lg-4 col-md-6">
                      <input class="form-control" type="text" formControlName="{{ i }}" placeholder="Enter Test(s)/Panel Cancelled">
                    </div>
                    <div class="col-lg-4 col-md-6 align-self-center">
                      <button class="btn btn-primary" (click)="removePanelOption(i)" *ngIf="i !==0">Remove</button>
                      <button  class="btn btn-primary" (click)="addPanelOption()"  *ngIf="i ===0">Add More</button>
                    </div>
                    <div class="col-lg-4 col-md-6"></div>
                  </div>
                </div>
              </div>
              
              <!-- Add button to add new inputs -->
              
            </div>
       
    <h5 class="mb-3 mt-3 fw-bold">Client Notification Section:</h5>
    <div class="row gx-2">
      <div class="col-lg-4">
        <div class="mb-2">
          <label class="form-label"
            >Date:</label
          >
          <kendo-datepicker  id="Clientnotificationdate" style="height: 45px;" calendarType="classic" [animateCalendarNavigation]="true" formControlName="Clientnotificationdate" placeholder="mm/dd/yyyy"  format="MM/dd/yyyy" name="Clientnotificationdate" [ngClass]="{'is-invalid': isSubmitted && f.Clientnotificationdate.errors}"></kendo-datepicker>
          <!-- Validation error message -->
        
        </div>
      </div>
        <div class="col-lg-4 col-md-6">
            <div class="mb-2">
              <label class="form-label">Client #:</label>
              <input type="text" class="form-control" placeholder="Enter Client #" formControlName="Clientnotificationnumber"
                TrimWhitespace maxlength="50" />
              <!-- Error message for required validation -->
            
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div class="mb-2">
              <label class="form-label">Notification given to:</label>
              <input type="text" class="form-control" placeholder="Enter Notification Given To" formControlName="Clientnotificationgiven"
                TrimWhitespace maxlength="50" />
              <!-- Error message for required validation -->
            
            </div>
          </div> 
    </div>
    <div class="row gx-2">
      <div class="col-lg-12">
        <div class="mb-2">
          <label class="form-label">Note:</label>
          <textarea formControlName="Note" class="form-control"  TrimWhitespace></textarea>
        </div>
      </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
            <div class="text-center mt-3">
                <button type="submit" class="btn btn-blue m-1" (click)="onSubmit()">Submit</button>
                                     
            </div>
        </div>
    </div>
</form>
</div>
</div>