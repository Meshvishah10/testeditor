<div class="font15 font-w600 text-blue mt-2 mb-3 addedproicon" *ngIf="permission.MenuPermission.Add == true">
  <div class="row">
    <div class="col-12 col-md-6 com-sm-12 text-start mb-3 mb-md-0">
      <span (click)="addCategory()" class="align-items-center" style="cursor: pointer;">
        <img src="../../../assets/images/icons/add-icon-white.svg" class="me-2" />
        Add Category
      </span>
    </div>
    <div class="col-12 col-md-6 com-sm-12 text-lg-end text-md-end">
      <span (click)="addProduct()" class="align-items-center" style="cursor: pointer;">
        <img src="../../../assets/images/icons/add-icon-white.svg" class="me-2" />
        Add Product
      </span>
    </div>
  </div>
</div>



<div class="col-lg-12">
  <div class="row">
    <div class="col-lg-6 mb-2 col-md-12 col-sm-12 d-flex">
      <div class="input-with-icon ">
        <input type="text" class="form-control" placeholder="Search here..." [(ngModel)]="requestPayload.CustomSearch" (change)="search()" />
        <div class="btn btn-default icon" (click)="search()">
          <i class="fa fa-search"></i>
        </div>
      </div>
    </div>
    <div class="col-lg-6 d-flex col-md-12 col-sm-12 justify-content-lg-end align-items-center">
      <div class="row">
        <div class="col-lg-12 mb-2">
          <table class="table mb-0" border="1">
            <tr class="tr-narrow">
              <td class="text-center"><span class="font-w600 text-blue">Active</span></td>
              <td>
               <img src="../../../assets/images/on.svg" height="40px">
              </td>
              <td class="text-center"><span class="font-w600 text-blue">Inactive</span></td>
              <td>
                <img src="../../../assets/images/off.svg" height="40px">
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 mb-2 text-lg-end" *ngIf="deleteids.length">
      <button class="btn btn-blue me-2" style="cursor: pointer;" data-bs-toggle="modal" data-bs-target="#deleteProduct">Delete</button>
    </div>
  </div>
</div>




  

<!-- Product Table Section -->
<div class="tablediv" *ngIf="permission.MenuPermission.View == true">
  <div class="table-responsive custom-width">
    <kendo-grid
      style="user-select: none;"
      [data]="productList"
      [skip]="state.skip"
      [sortable]="true"
      [sort]="state.sort"
      filterable="menu"
      [filter]="state.filter"
      [rowReorderable]="true"
      [groupable]="false"
      (dataStateChange)="dataStateChange($event)"
      (rowReorder)="onRowReorder($event)"
    >
    <kendo-grid-rowreorder-column [headerStyle]="{'text-align' : 'center'}" [style]="{ 'text-align': 'center', 'vertical-align':'middle' }"></kendo-grid-rowreorder-column>
    <kendo-grid-checkbox-column  [headerStyle]="{'text-align' : 'center','justify-content':'center'}" [style]="{ 'text-align': 'center', 'vertical-align':'middle' }" *ngIf="permission.MenuPermission.Delete == true">
      <ng-template kendoGridHeaderTemplate>
        <input kendogridselectallcheckbox class="k-checkbox k-checkbox-md k-rounded-md" type="checkbox"
          [style]="{'vertical-align':'middle'}" (change)="onSelectAllChange($event)" [checked]="isAllSelected()" />
      </ng-template>
      <ng-template kendoGridCellTemplate let-dataItem>
        <input kendogridselectallcheckbox class="k-checkbox k-checkbox-md k-rounded-md"
          [style]="{'vertical-align':'middle'}" type="checkbox" [(ngModel)]="dataItem.isSelected"
          (change)="onCheckboxChange(dataItem)" />
      </ng-template>
    </kendo-grid-checkbox-column>
      <kendo-grid-column field="Name" title="Name"  [sortable]="true" [headerStyle]="{'text-align': 'left' }" [style]="{'text-align': 'left'}">
        <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
          <kendo-grid-string-filter-menu
              [column]="column"
              [filter]="filter"
              [filterService]="filterService"
              operator="contains">
                  <kendo-filter-eq-operator></kendo-filter-eq-operator>
                  <kendo-filter-neq-operator></kendo-filter-neq-operator>
                  <kendo-filter-contains-operator></kendo-filter-contains-operator>
                  <kendo-filter-startswith-operator></kendo-filter-startswith-operator>
                  <kendo-filter-endswith-operator></kendo-filter-endswith-operator>
          </kendo-grid-string-filter-menu>
      </ng-template>
      </kendo-grid-column>
      <!-- <kendo-grid-column field="Category" title="Category" [headerStyle]="{'text-align': 'left' }" [style]="{'text-align': 'left'}" [sortable]="true">
        <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
          <kendo-grid-string-filter-menu
              [column]="column"
              [filter]="filter"
              [filterService]="filterService"
              operator="contains">
                  <kendo-filter-eq-operator></kendo-filter-eq-operator>
                  <kendo-filter-neq-operator></kendo-filter-neq-operator>
                  <kendo-filter-contains-operator></kendo-filter-contains-operator>
                  <kendo-filter-startswith-operator></kendo-filter-startswith-operator>
                  <kendo-filter-endswith-operator></kendo-filter-endswith-operator>
          </kendo-grid-string-filter-menu>
      </ng-template>
      </kendo-grid-column> -->
      <kendo-grid-column field="Description" title="Description" [headerStyle]="{'text-align': 'left' }" [style]="{'text-align': 'left'}" [sortable]="true">
        <ng-template kendoGridCellTemplate let-dataItem>
          <div  class="tooltip-inne" [title]="dataItem.Description" kendoTooltip>
            {{ dataItem.Description.length > 25 ? (dataItem.Description | slice:0:25) + '...' : dataItem.Description }}
          </div>
        </ng-template>
        <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
          <kendo-grid-string-filter-menu
              [column]="column"
              [filter]="filter"
              [filterService]="filterService"
              operator="contains">
                  <kendo-filter-eq-operator></kendo-filter-eq-operator>
                  <kendo-filter-neq-operator></kendo-filter-neq-operator>
                  <kendo-filter-contains-operator></kendo-filter-contains-operator>
                  <kendo-filter-startswith-operator></kendo-filter-startswith-operator>
                  <kendo-filter-endswith-operator></kendo-filter-endswith-operator>
          </kendo-grid-string-filter-menu>
      </ng-template>
      </kendo-grid-column>
      <kendo-grid-column field="Productprice" title="Product Price" [sortable]="true" filter="numeric" [headerStyle]="{'text-align': 'left'}" [style]="{'text-align': 'right'}">
        <ng-template kendoGridCellTemplate let-dataItem>
          <div>
            $ {{ dataItem.Productprice | number: '1.2-2'}}
          </div>
        </ng-template>
        <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
          <kendo-grid-numeric-filter-menu
              [column]="column"
              [filter]="filter"
              [filterService]="filterService"
              operator="eq">
                  <kendo-filter-eq-operator></kendo-filter-eq-operator>
                  <kendo-filter-neq-operator></kendo-filter-neq-operator>
                  <kendo-filter-gt-operator></kendo-filter-gt-operator>
                  <kendo-filter-gte-operator></kendo-filter-gte-operator>
                  <kendo-filter-lt-operator></kendo-filter-lt-operator>
                  <kendo-filter-lte-operator></kendo-filter-lte-operator>
          </kendo-grid-numeric-filter-menu>
      </ng-template>
      </kendo-grid-column>
      <kendo-grid-column field="Dropshipprice" title="Dropship Price"  [sortable]="true" filter="numeric" [headerStyle]="{'text-align': 'left'}" [style]="{'text-align': 'right'}">
        <ng-template kendoGridCellTemplate let-dataItem>
          <div>
            $ {{ dataItem.Dropshipprice | number: '1.2-2'}}
          </div>
        </ng-template>
        <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
          <kendo-grid-numeric-filter-menu
              [column]="column"
              [filter]="filter"
              [filterService]="filterService"
              operator="eq">
                  <kendo-filter-eq-operator></kendo-filter-eq-operator>
                  <kendo-filter-neq-operator></kendo-filter-neq-operator>
                  <kendo-filter-gt-operator></kendo-filter-gt-operator>
                  <kendo-filter-gte-operator></kendo-filter-gte-operator>
                  <kendo-filter-lt-operator></kendo-filter-lt-operator>
                  <kendo-filter-lte-operator></kendo-filter-lte-operator>
          </kendo-grid-numeric-filter-menu>
      </ng-template>
      </kendo-grid-column>
      <kendo-grid-column field="Sortorder" title="Sort Order"  [sortable]="true" filter="numeric" [headerStyle]="{'text-align': 'left'}" [style]="{'text-align': 'right'}">
        <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
          <kendo-grid-numeric-filter-menu
              [column]="column"
              [filter]="filter"
              [filterService]="filterService"
              operator="eq">
                  <kendo-filter-eq-operator></kendo-filter-eq-operator>
                  <kendo-filter-neq-operator></kendo-filter-neq-operator>
                  <kendo-filter-gt-operator></kendo-filter-gt-operator>
                  <kendo-filter-gte-operator></kendo-filter-gte-operator>
                  <kendo-filter-lt-operator></kendo-filter-lt-operator>
                  <kendo-filter-lte-operator></kendo-filter-lte-operator>
          </kendo-grid-numeric-filter-menu>
      </ng-template>
      </kendo-grid-column>
      <kendo-grid-column field="Status" title="Status" [headerStyle]="{ 'text-align': 'center'}" [style]="{ 'text-align': 'center'}" [sortable]="true" filter="boolean">
        <ng-template kendoGridCellTemplate let-dataItem class="text-center">
          <div class="form-check form-switch text-center toggle-switch" *ngIf="permission.MenuPermission.Edit == true" kendoTooltip>
            <input class="form-check-input text-center" type="checkbox" role="switch" [(ngModel)]="dataItem.Status" (click)="changeStatus(dataItem.Id, dataItem.Status)" [attr.title]="dataItem.Status ? 'Active' : 'Inactive'" />
          </div>
          <div class="form-check form-switch text-center toggle-switch" *ngIf="permission.MenuPermission.Edit == false">
            <input class="form-check-input text-center" type="checkbox" role="switch" [(ngModel)]="dataItem.Status" disabled="true" [attr.title]="dataItem.Status ? 'Active' : 'Inactive'" />
          </div>
        </ng-template>
        <kendo-grid-messages
        filterIsTrue="Active"
        filterIsFalse="Inactive"
        >
      </kendo-grid-messages>
      </kendo-grid-column>
      
      <kendo-grid-column title="Edit" [headerStyle]="{ 'text-align': 'center'}" [style]="{ 'text-align': 'center'}" *ngIf="permission.MenuPermission.Edit == true">
        <ng-template kendoGridCellTemplate let-dataItem>
          <div class="link-gray font16" title="Edit" (click)="editModel(dataItem.Id)" style="cursor: pointer">
            <i class="fa fa-edit"></i>
          </div>
        </ng-template>
      </kendo-grid-column>
      
      <kendo-grid-column title="Delete"  [headerStyle]="{ 'text-align': 'center'}"  [style]="{ 'text-align': 'center'}" *ngIf="permission.MenuPermission.Delete == true">
        <ng-template kendoGridCellTemplate let-dataItem>
          <div class="link-gray font16" title="Delete" (click)="deleteModel(dataItem.Id)" style="cursor: pointer"  data-bs-toggle="modal" data-bs-target="#deleteProduct">
            <i class="fa fa-trash-alt"></i>
          </div>
        </ng-template>
      </kendo-grid-column>
    </kendo-grid>
  </div>
</div>

<!-- Delete Product Modal -->
<div class="modal deletepopup fade"id="deleteProduct" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header justify-content-end">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
          (click)="modelDeleteClose()"></button>
      </div>
      <div class="modal-body only-title text-center">
        <h5>Are you sure want to delete?</h5>
      </div>
      <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary m-1" (click)="deleteProduct()">Yes</button>
        <button type="button" class="btn btn-secondary m-1" (click)="modelDeleteClose()">No</button>
      </div>
    </div>
  </div>
</div>